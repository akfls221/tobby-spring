# jdbc 기능의 예외처리
- jdbc 코드에선 리소스를 반환하도록 try/catch/finall 구문 사용을 권장한다.
- 해당 내용을 적용하여 코드를 수정한다.

# try/catch/finally code의 문제
- 복잡하다. 추가될때마다 매번 작성이 필요하다.
- 분리와 재사용을 위해 수정이필요하며, `변하지않는 부분` 과 `변하는 부분`을 나눠야 한다.
- 추상클래스로 구현이 가능하지만, 매번 클래스를 상속받아 구현해야하는 번거로움이 있다.
- 전략패턴을 적용하여, 일정한 구조를가지는 context에서 확장이 가능한 부분을 별도의 Strategy `Interface`를 통해 분리한다.
- 우선 변하지 않는 부분을 별도의 메소드로 분리하여 관리한다.(try/catch/finally)
- 이때 변하는 부분을 인터페이스로 작성하며, 
- 변하지 않는 부분을 별도의 클래스로 분리하여 관리하며, 해당 클래스를 Dao 클래스에서 의존주입받아 사용한다.(이때 Dao에서 들고잇던, datasource 등을 모두 분리된 클래스에서 관리한다. Dao는 변하지 않는 부분에 대한 클래스만 참조한다.)

## 템플릿과 콜백
- 전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식을 `템플릿 / 콜백 패턴` 이라고 부른다.
- 여기서 콜백은 실행되는 것을 목적으로 다른 오브젝트의 메소드에 전달 되는 오브젝트를 말한다.
- 이후 템플릿에서 콜백을 포함하고 있는 방식으로 하나의 목적을 위해 긴밀하게 연관되어 있는 응집력이 강한 코드들을 모을 수 있다.
- 이로 인해 익명 내부 클래스 등의 기술은 최대한 감춰두고, 외부에는 꼭 필요한 기능을 제공하는 단순 메소드만 노출한다.
